<div class="category-container">
  <!-- Título da página -->
  <div class="page-header">
    <h1>Gerenciamento de Categorias</h1>
    <p>Visualize, edite e gerencie todas as categorias do sistema</p>
  </div>

  <!-- Campo de busca -->
  <div class="search-section">
    <div class="search-container">
      <input 
        type="text" 
        [(ngModel)]="searchTerm" 
        (input)="filterCategories()"
        placeholder="Buscar categorias por nome..."
        class="search-input"
      >
      <svg class="search-button" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
    </div>
  </div>

  <!-- Tabela de categorias -->
  <div class="table-container">
    <div class="table-header">
      <h3>Lista de Categorias</h3>
      <span class="category-count">{{ filteredCategories.length }} categoria(s) encontrada(s)</span>
    </div>

    <div class="table-wrapper">
      <table class="categories-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome da Categoria</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="isLoading" class="loading-row">
            <td colspan="3" class="loading-cell">
              <div class="loading-spinner">Carregando categorias...</div>
            </td>
          </tr>
          
          <tr *ngIf="!isLoading && filteredCategories.length === 0" class="empty-row">
            <td colspan="3" class="empty-cell">
              <div class="empty-message">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                  <circle cx="12" cy="12" r="10"></circle>
                  <path d="M8 12h8"></path>
                  <path d="M12 8v8"></path>
                </svg>
                <p>Nenhuma categoria encontrada</p>
                <span>Não há categorias para exibir no momento.</span>
              </div>
            </td>
          </tr>

          <tr *ngFor="let category of filteredCategories" class="category-row">
            <td class="category-id" data-label="ID">{{ category.id }}</td>
            <td class="category-name" data-label="Nome da Categoria">{{ category.name }}</td>
            <td class="actions-cell" data-label="Ações">
              <div class="action-buttons">
                <button 
                  class="action-btn edit-btn" 
                  (click)="onEditCategory(category.id)"
                  title="Editar categoria"
                >
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                  </svg>
                </button>
                
                <button 
                  class="action-btn delete-btn" 
                  (click)="onDeleteCategory(category.id)"
                  title="Deletar categoria"
                >
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3,6 5,6 21,6"></polyline>
                    <path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"></path>
                    <line x1="10" y1="11" x2="10" y2="17"></line>
                    <line x1="14" y1="11" x2="14" y2="17"></line>
                  </svg>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
